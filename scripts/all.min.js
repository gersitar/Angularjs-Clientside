!function(){var app=angular.module("websiteApp",["ui.router"]),globalchartholder="";app.config(function($stateProvider,$urlRouterProvider){$urlRouterProvider.otherwise("/home"),$stateProvider.state("home",{url:"/home",templateUrl:"views/home.html"}),$stateProvider.state("cart",{url:"/cart",templateUrl:"views/cart.html"}),$stateProvider.state("questions",{url:"/questions",templateUrl:"views/questions.html"})}),app.directive("webpageHeader",function(){return{restrict:"E",templateUrl:"views/header.html"}}),app.directive("storeProducts",function(){return{restrict:"E",templateUrl:"views/storeproducts.html",controller:["$http",function($http){var scopestorage=this;scopestorage.pageoffset=0,scopestorage.products=[],$http.get("http://gersitar.github.io/angularjs-clientside/products.json").success(function(data){scopestorage.products=data})}],controllerAs:"store"}}),app.directive("chartDir",function(){return{restrict:"E",templateUrl:"views/chart.html",controller:["$http",function($http){var fluxchartscopestorage=this;if(fluxchartscopestorage.fluxdata=[],$http.get("http://gersitar.github.io/angularjs-clientside/fluxchart.json").success(function(fluxdata){fluxchartscopestorage.fluxdata=fluxdata}),"/cart"===globalchartholder){var canvas=document.getElementById("updating-chart"),ctx=canvas.getContext("2d"),startingData={labels:[1,2,3,4,5,6,7],datasets:[{fillColor:"rgba(220,220,220,0.2)",strokeColor:"rgba(220,220,220,1)",pointColor:"rgba(220,220,220,1)",pointStrokeColor:"#fff",data:[0,0,0,0,0,0,0]}]},latestLabel=startingData.labels[6],myLiveChart=new Chart(ctx).Line(startingData,{responsive:!0,animationSteps:15}),chartjsData=[],i=0;setInterval(function(){i<fluxchartscopestorage.fluxdata.length&&(chartjsData.push(fluxchartscopestorage.fluxdata[i].nameoffield),myLiveChart.addData([chartjsData],++latestLabel),myLiveChart.removeData(),chartjsData=[],i++)},5e3)}}]}}),app.controller("startupchart",function($rootScope){$rootScope.$on("$stateChangeSuccess",function(event,toState,toParams,fromState,fromParams){globalchartholder=toState.url})})}();