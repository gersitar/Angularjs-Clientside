!function(){var app=angular.module("websiteApp",["ui.router"]),globalchartholder="";app.config(function($stateProvider,$urlRouterProvider){$urlRouterProvider.otherwise("/home"),$stateProvider.state("home",{url:"/home",templateUrl:"views/home.html"}),$stateProvider.state("cart",{url:"/cart",templateUrl:"views/cart.html"}),$stateProvider.state("questions",{url:"/questions",templateUrl:"views/questions.html"})}),app.directive("webpageHeader",function(){return{restrict:"E",templateUrl:"views/header.html"}}),app.directive("storeProducts",function(){return{restrict:"E",templateUrl:"views/storeproducts.html",controller:["$http",function($http){var scopestorage=this;scopestorage.pageoffset=0,scopestorage.products=[],$http.get("http://gersitar.github.io/angularjs-clientside/products.json").success(function(data){scopestorage.products=data})}],controllerAs:"store"}}),app.directive("chartDir",function(){return{restrict:"E",templateUrl:"views/chart.html",controller:[function(){if("/cart"===globalchartholder){var canvas=document.getElementById("updating-chart"),ctx=canvas.getContext("2d"),startingData={labels:[1,2,3,4,5,6,7],datasets:[{fillColor:"rgba(220,220,220,0.2)",strokeColor:"rgba(220,220,220,1)",pointColor:"rgba(220,220,220,1)",pointStrokeColor:"#fff",data:[65,59,80,81,56,55,40]},{fillColor:"rgba(151,187,205,0.2)",strokeColor:"rgba(151,187,205,1)",pointColor:"rgba(151,187,205,1)",pointStrokeColor:"#fff",data:[28,48,40,19,86,27,90]},{fillColor:"rgba(151,187,205,0.2)",strokeColor:"rgba(151,187,205,1)",pointColor:"rgba(151,187,205,1)",pointStrokeColor:"#fff",data:[35,90,10,50,86,80,60]}]},latestLabel=startingData.labels[6],myLiveChart=new Chart(ctx).Line(startingData,{responsive:!0,animationSteps:15});setInterval(function(){myLiveChart.addData([100*Math.random(),100*Math.random()],++latestLabel),myLiveChart.removeData()},5e3)}}],controllerAs:"store"}}),app.controller("startupchart",function($rootScope){$rootScope.$on("$stateChangeSuccess",function(event,toState,toParams,fromState,fromParams){console.log("listener"),globalchartholder=toState.url})})}();